<div class="teacher-add-meeting-container">
  <mat-list>
    <h3 mat-subheader> {{data.meeting.typeFormControl.value}} </h3>
    <mat-divider></mat-divider>
    <mat-list-item>
      <mat-form-field>
        <input matInput [formControl]="data.meeting.typeFormControl" placeholder="Meeting type...">
      </mat-form-field>
    </mat-list-item>
    <mat-divider></mat-divider>
    <mat-list-item>
      <mat-form-field>
        <mat-select placeholder="Select occurrences" [formControl]="data.meeting.occurrencesFormControl" multiple>
          <mat-option *ngFor="let appointment of this.possibleAppointments" [value]="appointment">
            Week {{ appointment.week }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-list-item>
    <mat-divider></mat-divider>
    <mat-list-item>
      <mat-form-field>
        <mat-select placeholder="Select teacher(s)" [formControl]="data.meeting.teachersFormControl" multiple>
          <mat-option *ngFor="let teacher of data.meeting.possibleTeachers"
                      [value]="teacher"> {{ teacher.lastName + " " + teacher.firstName }}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-list-item>
    <mat-divider></mat-divider>
    <mat-accordion>

      <mat-expansion-panel *ngFor="let appointment of data.meeting.occurrencesFormControl.value">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Week {{ appointment.week }}

          </mat-panel-title>
          <mat-panel-description>

          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-divider></mat-divider>
        <mat-form-field style="display: inline">
          <mat-select placeholder="Attendance requirement" [ngModel]="appointment.presenceRequired">
            <mat-option [value]="true"> Attendance will be required</mat-option>
            <mat-option [value]="false"> Attendance will NOT be required</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-divider></mat-divider>
        <mat-form-field>
          <input matInput type="number" [disabled]="appointment.gradable === false"
                 [(ngModel)]="appointment.gradePercentage" placeholder="Grade percentage...">
        </mat-form-field>
        <div style="display: inline-block; margin-left: 15%">
          <mat-slide-toggle color="primary" (change)="toggleGrading($event,appointment)" style="display: inline">
            Toggle grading for this week
          </mat-slide-toggle>
        </div>

        <mat-divider></mat-divider>
        <mat-form-field>
          <mat-select placeholder="Select teacher" [(ngModel)]="appointment.teacher" [disabled]="appointment.restrictTeacher === false">
            <mat-option *ngFor="let teacher of data.meeting.possibleTeachers" [value]="teacher">
              {{ teacher.lastName + " " + teacher.firstName }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div style="display: inline-block; margin-left: 15%">
          <mat-slide-toggle color="primary" (change)="toggleRestrictTeach($event,appointment)" style="display: inline">
            Toggle restriction for teacher
          </mat-slide-toggle>
        </div>

      </mat-expansion-panel>

    </mat-accordion>


  </mat-list>
</div>
